<!DOCTYPE html><html><head><title>GC Performance imperative-rb-tree (compacting GC)</title><link rel="stylesheet" href="style.css"/></head><body><script src="https://cdn.jsdelivr.net/npm/chart.js"></script><script src="display.js"></script><h1>imperative-rb-tree (compacting GC)</h1><div id="menu"><form id="animation" action="#"><button type="submit">Animate</button></form><form id="overview" action="#"><button type="submit">Overview</button></form></div><script>function updateChart() {if (position < 91){addData(memoryChart, position, memoryValues[position]);}if (position < 91){addData(allocationsChart, position, allocationsValues[position]);}if (position < 91){addData(runtimeChart, position, runtimeValues[position]);}position++; }</script><div style="float: left; width: 1500px;"><h1>Memory</h1><canvas id="memoryChart"></canvas></div><script>const memoryData = {labels: [], datasets: [{ label: 'Memory', yAxisID: 'yAxis', backgroundColor: 'rgba(255, 99, 132, 0.1)', borderColor: 'rgb(255, 99, 132)', data: [], }, { label: 'Heap', yAxisID: 'yAxis', backgroundColor: 'rgba(54, 162, 235, 0.1)', borderColor: 'rgb(54, 162, 235)', fill: true, data: [], }, { label: 'Live', yAxisID: 'yAxis', backgroundColor: 'rgba(255, 159, 64, 0.1)', borderColor: 'rgb(255, 159, 64)', data: [], }, ] }; const memoryConfig = {type: 'line', data: memoryData, options: { scales: { yAxis: { suggestedMin: 0, suggestedMax: 39976960 }  }  } }; const memoryChart = new Chart(document.getElementById('memoryChart'), memoryConfig);const memoryValues = [[3997696, 761772, 761560, ], [4784128, 1521772, 1521560, ], [5439488, 3244252, 1521560, ], [7340032, 3041772, 3041560, ], [7340032, 4764288, 3041560, ], [8912896, 4561772, 4561560, ], [8912896, 6284304, 4561560, ], [10485760, 6081772, 6081560, ], [10485760, 7804256, 6081560, ], [11730944, 9526916, 6081560, ], [13828096, 8361772, 8361560, ], [13828096, 10084464, 8361560, ], [14024704, 11806964, 8361560, ], [15728640, 13529624, 8361560, ], [17956864, 11401772, 11401560, ], [17956864, 13124496, 11401560, ], [17956864, 14847108, 11401560, ], [18743296, 16569608, 11401560, ], [21102592, 14441772, 14441560, ], [21102592, 16164400, 14441560, ], [21102592, 17886996, 14441560, ], [21823488, 19609560, 14441560, ], [23527424, 21332252, 14441560, ], [25952256, 18241772, 18241560, ], [25952256, 19964400, 18241560, ], [25952256, 21686900, 18241560, ], [25952256, 23409496, 18241560, ], [27328512, 25132188, 18241560, ], [29032448, 26854752, 18241560, ], [31653888, 22801772, 22801560, ], [31653888, 22804520, 22801560, ], [31653888, 22807176, 22801560, ], [31653888, 22809832, 22801560, ], [31653888, 22812488, 22801560, ], [31653888, 22815144, 22801560, ], [31653888, 22817800, 22801560, ], [31653888, 22820456, 22801560, ], [31653888, 22823112, 22801560, ], [31653888, 22825768, 22801560, ], [31653888, 22828424, 22801560, ], [31653888, 22830936, 22801560, ], [31653888, 24551012, 22801560, ], [31653888, 26273432, 22801560, ], [31653888, 27995916, 22801560, ], [31916032, 29718480, 22801560, ], [33619968, 31440996, 22801560, ], [35389440, 33163592, 22801560, ], [37093376, 34886124, 22801560, ], [39976960, 6081772, 22801560, ], [39976960, 7804256, 22801560, ], [39976960, 9526916, 22801560, ], [39976960, 8361772, 22801560, ], [39976960, 10084464, 22801560, ], [39976960, 11806964, 22801560, ], [39976960, 13529624, 22801560, ], [39976960, 11401772, 22801560, ], [39976960, 13124496, 22801560, ], [39976960, 14847108, 22801560, ], [39976960, 16569608, 22801560, ], [39976960, 14441772, 22801560, ], [39976960, 16164400, 22801560, ], [39976960, 17886996, 22801560, ], [39976960, 19609560, 22801560, ], [39976960, 21332252, 22801560, ], [39976960, 18241772, 22801560, ], [39976960, 19964400, 22801560, ], [39976960, 21686900, 22801560, ], [39976960, 23409496, 22801560, ], [39976960, 25132188, 22801560, ], [39976960, 26854752, 22801560, ], [39976960, 22801772, 22801560, ], [39976960, 24524336, 22801560, ], [39976960, 26247124, 22801560, ], [39976960, 27969736, 22801560, ], [39976960, 29692364, 22801560, ], [39976960, 31414864, 22801560, ], [39976960, 33137492, 22801560, ], [39976960, 34860152, 22801560, ], [39976960, 28881772, 28881560, ], [39976960, 30604484, 28881560, ], [39976960, 32327208, 28881560, ], [39976960, 32329956, 28881560, ], [39976960, 32332612, 28881560, ], [39976960, 32335268, 28881560, ], [39976960, 32337924, 28881560, ], [39976960, 32340580, 28881560, ], [39976960, 32343236, 28881560, ], [39976960, 32345892, 28881560, ], [39976960, 32348548, 28881560, ], [39976960, 32351204, 28881560, ], [39976960, 32353860, 28881560, ], ];</script><div style="float: left; width: 1500px;"><h1>Allocations</h1><canvas id="allocationsChart"></canvas></div><script>const allocationsData = {labels: [], datasets: [{ label: 'Allocated', yAxisID: 'yAxis', backgroundColor: 'rgba(255, 206, 86, 0.1)', borderColor: 'rgb(255, 206, 86)', data: [], }, { label: 'Reclaimed', yAxisID: 'yAxis', backgroundColor: 'rgba(153, 102, 255, 0.1)', borderColor: 'rgb(153, 102, 255)', fill: true, data: [], }, ] }; const allocationsConfig = {type: 'line', data: allocationsData, options: { scales: { yAxis: { suggestedMin: 0, suggestedMax: 120632692 }  }  } }; const allocationsChart = new Chart(document.getElementById('allocationsChart'), allocationsConfig);const allocationsValues = [[1720216, 958444, ], [3442632, 1920860, ], [5165112, 1920860, ], [6887672, 3845900, ], [8610188, 3845900, ], [10332784, 5771012, ], [12055316, 5771012, ], [13777976, 7696204, ], [15500460, 7696204, ], [17223120, 7696204, ], [18945652, 10583880, ], [20668344, 10583880, ], [22390844, 10583880, ], [24113504, 10583880, ], [25836068, 14434296, ], [27558792, 14434296, ], [29281404, 14434296, ], [31003904, 14434296, ], [32726564, 18284792, ], [34449192, 18284792, ], [36171788, 18284792, ], [37894352, 18284792, ], [39617044, 18284792, ], [41339672, 23097900, ], [43062300, 23097900, ], [44784800, 23097900, ], [46507396, 23097900, ], [48230088, 23097900, ], [49952652, 23097900, ], [51675280, 28873508, ], [51678028, 28873508, ], [51680684, 28873508, ], [51683340, 28873508, ], [51685996, 28873508, ], [51688652, 28873508, ], [51691308, 28873508, ], [51693964, 28873508, ], [51696620, 28873508, ], [51699276, 28873508, ], [51701932, 28873508, ], [51704444, 28873508, ], [53424520, 28873508, ], [55146940, 28873508, ], [56869424, 28873508, ], [58591988, 28873508, ], [60314504, 28873508, ], [62037100, 28873508, ], [63759632, 28873508, ], [65482292, 59400520, ], [67204776, 59400520, ], [68927436, 59400520, ], [70649968, 62288196, ], [72372660, 62288196, ], [74095160, 62288196, ], [75817820, 62288196, ], [77540384, 66138612, ], [79263108, 66138612, ], [80985720, 66138612, ], [82708220, 66138612, ], [84430880, 69989108, ], [86153508, 69989108, ], [87876104, 69989108, ], [89598668, 69989108, ], [91321360, 69989108, ], [93043988, 74802216, ], [94766616, 74802216, ], [96489116, 74802216, ], [98211712, 74802216, ], [99934404, 74802216, ], [101656968, 74802216, ], [103379596, 80577824, ], [105102160, 80577824, ], [106824948, 80577824, ], [108547560, 80577824, ], [110270188, 80577824, ], [111992688, 80577824, ], [113715316, 80577824, ], [115437976, 80577824, ], [117160604, 88278832, ], [118883316, 88278832, ], [120606040, 88278832, ], [120608788, 88278832, ], [120611444, 88278832, ], [120614100, 88278832, ], [120616756, 88278832, ], [120619412, 88278832, ], [120622068, 88278832, ], [120624724, 88278832, ], [120627380, 88278832, ], [120630036, 88278832, ], [120632692, 88278832, ], ];</script><div style="float: left; width: 1500px;"><h1>Runtime</h1><canvas id="runtimeChart"></canvas></div><script>const runtimeData = {labels: [], datasets: [{ label: 'Mutator', yAxisID: 'yAxis', backgroundColor: 'rgba(75, 192, 192, 0.1)', borderColor: 'rgb(75, 192, 192)', data: [], }, { label: 'Collector', yAxisID: 'yAxis', backgroundColor: 'rgba(255, 99, 132, 0.1)', borderColor: 'rgb(255, 99, 132)', data: [], }, ] }; const runtimeConfig = {type: 'line', data: runtimeData, options: { scales: { yAxis: { suggestedMin: 0, suggestedMax: 1200796369 }  }  } }; const runtimeChart = new Chart(document.getElementById('runtimeChart'), runtimeConfig);const runtimeValues = [[59341961, 35443480, ], [65628479, 66023813, ], [67828564, 244, ], [69672710, 132014298, ], [70235108, 244, ], [71664835, 193180909, ], [72359494, 244, ], [73226167, 254348407, ], [73222002, 244, ], [73490853, 244, ], [74783615, 350922321, ], [74786287, 244, ], [74782291, 244, ], [76179326, 244, ], [76344295, 478080807, ], [76346967, 244, ], [76344722, 244, ], [76342543, 244, ], [76346363, 600414840, ], [76874217, 244, ], [77904247, 244, ], [77903875, 244, ], [77907015, 244, ], [77905655, 758156411, ], [77904927, 244, ], [77902207, 244, ], [79130006, 244, ], [79466875, 244, ], [79464295, 244, ], [79465683, 946480940, ], [676617436, 244, ], [676616960, 244, ], [676616960, 244, ], [676616960, 244, ], [676616960, 244, ], [676616960, 244, ], [676616960, 244, ], [676616960, 244, ], [676616960, 244, ], [676616960, 244, ], [6921, 244, ], [59343540, 244, ], [65628171, 244, ], [67828284, 244, ], [69672094, 244, ], [70235836, 244, ], [71665003, 244, ], [72360222, 244, ], [73226335, 286167468, ], [73222002, 244, ], [73490321, 244, ], [74782887, 350922293, ], [74786287, 244, ], [74782207, 244, ], [76178598, 244, ], [76343567, 478080779, ], [76346967, 244, ], [76344722, 244, ], [76342207, 244, ], [76345607, 600414778, ], [76874217, 244, ], [77904247, 244, ], [77903567, 244, ], [77906287, 244, ], [77904927, 758156383, ], [77904927, 244, ], [77902207, 244, ], [79130006, 244, ], [79466287, 244, ], [79463567, 244, ], [79464927, 946480912, ], [79463567, 244, ], [79468327, 244, ], [79464722, 244, ], [79464927, 244, ], [79462207, 244, ], [79464927, 244, ], [79465607, 244, ], [79464927, 1200796369, ], [79462887, 244, ], [80525409, 244, ], [918592116, 244, ], [918591640, 244, ], [918591640, 244, ], [918591640, 244, ], [918591640, 244, ], [918591640, 244, ], [918591640, 244, ], [918591640, 244, ], [918591640, 244, ], [918591640, 244, ], ];</script><script>function clearAll() { clearTimer();clearChart(memoryChart);clearChart(allocationsChart);clearChart(runtimeChart);}function showOverview() { clearAll(); showFullChart(memoryChart, memoryValues);showFullChart(allocationsChart, allocationsValues);showFullChart(runtimeChart, runtimeValues);}document.getElementById("animation").addEventListener("submit", async (e) => { showAnimation(); return false; });document.getElementById("overview").addEventListener("submit", async (e) => { showOverview(); return false; });showOverview(); </script></body></html>