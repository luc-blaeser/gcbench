<!DOCTYPE html><html><head><title>GC Performance imperative-rb-tree (generational GC)</title><link rel="stylesheet" href="style.css"/></head><body><script src="https://cdn.jsdelivr.net/npm/chart.js"></script><script src="display.js"></script><h1>imperative-rb-tree (generational GC)</h1><div id="menu"><form id="animation" action="#"><button type="submit">Animate</button></form><form id="overview" action="#"><button type="submit">Overview</button></form></div><script>function updateChart() {if (position < 91){addData(memoryChart, position, memoryValues[position]);}if (position < 91){addData(allocationsChart, position, allocationsValues[position]);}if (position < 91){addData(runtimeChart, position, runtimeValues[position]);}position++; }</script><div style="float: left; width: 1500px;"><h1>Memory</h1><canvas id="memoryChart"></canvas></div><script>const memoryData = {labels: [], datasets: [{ label: 'Memory', yAxisID: 'yAxis', backgroundColor: 'rgba(255, 99, 132, 0.1)', borderColor: 'rgb(255, 99, 132)', data: [], }, { label: 'Heap', yAxisID: 'yAxis', backgroundColor: 'rgba(54, 162, 235, 0.1)', borderColor: 'rgb(54, 162, 235)', fill: true, data: [], }, { label: 'Live', yAxisID: 'yAxis', backgroundColor: 'rgba(255, 159, 64, 0.1)', borderColor: 'rgb(255, 159, 64)', data: [], }, ] }; const memoryConfig = {type: 'line', data: memoryData, options: { scales: { yAxis: { suggestedMin: 0, suggestedMax: 39518208 }  }  } }; const memoryChart = new Chart(document.getElementById('memoryChart'), memoryConfig);const memoryValues = [[1966080, 1728432, 0, ], [3670016, 3450840, 0, ], [5439488, 5173316, 0, ], [7143424, 6895872, 0, ], [9109504, 3809972, 3801560, ], [9109504, 5532568, 3801560, ], [9109504, 7255100, 3801560, ], [9240576, 8977760, 3801560, ], [10944512, 10700244, 3801560, ], [12910592, 7610164, 7601752, ], [12910592, 9332712, 7601752, ], [12910592, 11055404, 7601752, ], [13041664, 12777904, 7601752, ], [14745600, 14500564, 7601752, ], [16711680, 11410356, 11401944, ], [16711680, 13133096, 11401944, ], [16711680, 14855708, 11401944, ], [16842752, 16578208, 11401944, ], [18546688, 18300868, 11401944, ], [20512768, 15210548, 15202136, ], [20512768, 16933192, 15202136, ], [20512768, 18655756, 15202136, ], [20643840, 20378448, 15202136, ], [22347776, 22101076, 15202136, ], [24313856, 19010740, 19002328, ], [24313856, 20733240, 19002328, ], [24313856, 22455852, 19002328, ], [24444928, 24178544, 19002328, ], [26148864, 25901108, 19002328, ], [28114944, 22810932, 22802520, ], [28114944, 22813696, 22802520, ], [28114944, 22816352, 22802520, ], [28114944, 22819008, 22802520, ], [28114944, 22821664, 22802520, ], [28114944, 22824320, 22802520, ], [28114944, 22826976, 22802520, ], [28114944, 22829632, 22802520, ], [28114944, 22832288, 22802520, ], [28114944, 22834944, 22802520, ], [28114944, 22837600, 22802520, ], [28114944, 22840128, 22802520, ], [28114944, 24560220, 22802520, ], [28114944, 26282640, 22802520, ], [28246016, 28005124, 22802520, ], [29949952, 29727688, 22802520, ], [31981568, 26611224, 26602812, ], [31981568, 28333820, 26602812, ], [31981568, 30056352, 26602812, ], [32047104, 31779012, 26602812, ], [33751040, 33501496, 26602812, ], [35717120, 30411416, 30403004, ], [35717120, 32133964, 30403004, ], [35717120, 33856656, 30403004, ], [35848192, 35579156, 30403004, ], [37552128, 37301816, 30403004, ], [39518208, 34211608, 34203196, ], [39518208, 13132276, 34203196, ], [39518208, 14854888, 34203196, ], [39518208, 16577388, 34203196, ], [39518208, 18300048, 34203196, ], [39518208, 15210352, 34203196, ], [39518208, 16932996, 34203196, ], [39518208, 18655560, 34203196, ], [39518208, 20378252, 34203196, ], [39518208, 22100880, 34203196, ], [39518208, 19010544, 34203196, ], [39518208, 20733044, 34203196, ], [39518208, 22455656, 34203196, ], [39518208, 24178348, 34203196, ], [39518208, 25900912, 34203196, ], [39518208, 22810736, 34203196, ], [39518208, 24533300, 34203196, ], [39518208, 26256104, 34203196, ], [39518208, 27978716, 34203196, ], [39518208, 29701344, 34203196, ], [39518208, 26610928, 34203196, ], [39518208, 28341772, 34203196, ], [39518208, 30064464, 34203196, ], [39518208, 31787092, 34203196, ], [39518208, 33509624, 34203196, ], [39518208, 30419944, 34203196, ], [39518208, 30422708, 34203196, ], [39518208, 30425544, 34203196, ], [39518208, 30428380, 34203196, ], [39518208, 30431216, 34203196, ], [39518208, 30434052, 34203196, ], [39518208, 30436888, 34203196, ], [39518208, 30439724, 34203196, ], [39518208, 30442560, 34203196, ], [39518208, 30445396, 34203196, ], [39518208, 30448232, 34203196, ], ];</script><div style="float: left; width: 1500px;"><h1>Allocations</h1><canvas id="allocationsChart"></canvas></div><script>const allocationsData = {labels: [], datasets: [{ label: 'Allocated', yAxisID: 'yAxis', backgroundColor: 'rgba(255, 206, 86, 0.1)', borderColor: 'rgb(255, 206, 86)', data: [], }, { label: 'Reclaimed', yAxisID: 'yAxis', backgroundColor: 'rgba(153, 102, 255, 0.1)', borderColor: 'rgb(153, 102, 255)', fill: true, data: [], }, ] }; const allocationsConfig = {type: 'line', data: allocationsData, options: { scales: { yAxis: { suggestedMin: 0, suggestedMax: 120773844 }  }  } }; const allocationsChart = new Chart(document.getElementById('allocationsChart'), allocationsConfig);const allocationsValues = [[1728432, 0, ], [3450840, 0, ], [5173316, 0, ], [6895872, 0, ], [8626580, 4816608, ], [10349176, 4816608, ], [12071708, 4816608, ], [13794368, 4816608, ], [15516852, 4816608, ], [17247712, 9637548, ], [18970260, 9637548, ], [20692952, 9637548, ], [22415452, 9637548, ], [24138112, 9637548, ], [25868876, 14458520, ], [27591616, 14458520, ], [29314228, 14458520, ], [31036728, 14458520, ], [32759388, 14458520, ], [34490216, 19279668, ], [36212860, 19279668, ], [37935424, 19279668, ], [39658116, 19279668, ], [41380744, 19279668, ], [43111572, 24100832, ], [44834072, 24100832, ], [46556684, 24100832, ], [48279376, 24100832, ], [50001940, 24100832, ], [51732768, 28921836, ], [51735532, 28921836, ], [51738188, 28921836, ], [51740844, 28921836, ], [51743500, 28921836, ], [51746156, 28921836, ], [51748812, 28921836, ], [51751468, 28921836, ], [51754124, 28921836, ], [51756780, 28921836, ], [51759436, 28921836, ], [51761964, 28921836, ], [53482056, 28921836, ], [55204476, 28921836, ], [56926960, 28921836, ], [58649524, 28921836, ], [60380240, 33769016, ], [62102836, 33769016, ], [63825368, 33769016, ], [65548028, 33769016, ], [67270512, 33769016, ], [69001372, 38589956, ], [70723920, 38589956, ], [72446612, 38589956, ], [74169112, 38589956, ], [75891772, 38589956, ], [77622536, 43410928, ], [79353476, 66221200, ], [81076088, 66221200, ], [82798588, 66221200, ], [84521248, 66221200, ], [86252076, 71041724, ], [87974720, 71041724, ], [89697284, 71041724, ], [91419976, 71041724, ], [93142604, 71041724, ], [94873432, 75862888, ], [96595932, 75862888, ], [98318544, 75862888, ], [100041236, 75862888, ], [101763800, 75862888, ], [103494628, 80683892, ], [105217192, 80683892, ], [106939996, 80683892, ], [108662608, 80683892, ], [110385236, 80683892, ], [112115936, 85505008, ], [113846780, 85505008, ], [115569472, 85505008, ], [117292100, 85505008, ], [119014632, 85505008, ], [120745556, 90325612, ], [120748320, 90325612, ], [120751156, 90325612, ], [120753992, 90325612, ], [120756828, 90325612, ], [120759664, 90325612, ], [120762500, 90325612, ], [120765336, 90325612, ], [120768172, 90325612, ], [120771008, 90325612, ], [120773844, 90325612, ], ];</script><div style="float: left; width: 1500px;"><h1>Runtime</h1><canvas id="runtimeChart"></canvas></div><script>const runtimeData = {labels: [], datasets: [{ label: 'Mutator', yAxisID: 'yAxis', backgroundColor: 'rgba(75, 192, 192, 0.1)', borderColor: 'rgb(75, 192, 192)', data: [], }, { label: 'Collector', yAxisID: 'yAxis', backgroundColor: 'rgba(255, 99, 132, 0.1)', borderColor: 'rgb(255, 99, 132)', data: [], }, ] }; const runtimeConfig = {type: 'line', data: runtimeData, options: { scales: { yAxis: { suggestedMin: 0, suggestedMax: 1160100928 }  }  } }; const runtimeChart = new Chart(document.getElementById('runtimeChart'), runtimeConfig);const runtimeValues = [[76112451, 335, ], [83416238, 335, ], [85969217, 335, ], [88108649, 335, ], [88761876, 300509619, ], [90526395, 335, ], [91326995, 335, ], [92332271, 335, ], [92327594, 335, ], [92639623, 300471218, ], [94144587, 335, ], [94143510, 335, ], [94137661, 335, ], [95758742, 335, ], [95949673, 300469128, ], [95960266, 335, ], [95951319, 335, ], [95947661, 335, ], [95952612, 335, ], [96565581, 300469352, ], [97766595, 335, ], [97759715, 335, ], [97763377, 335, ], [97761557, 335, ], [97761517, 300469705, ], [97763257, 335, ], [99183176, 335, ], [99573351, 335, ], [99569698, 335, ], [99571553, 300469194, ], [854769867, 335, ], [854768967, 335, ], [854768967, 335, ], [854768967, 335, ], [854768967, 335, ], [854768967, 335, ], [854768967, 335, ], [854768967, 335, ], [854768967, 335, ], [854768967, 335, ], [8455, 335, ], [76114863, 335, ], [83416188, 335, ], [85969174, 335, ], [88108781, 335, ], [88762015, 300482675, ], [90526395, 335, ], [91326995, 335, ], [92332264, 335, ], [92327594, 335, ], [92639623, 300471236, ], [94144587, 335, ], [94143510, 335, ], [94137661, 335, ], [95758742, 335, ], [95949673, 300468534, ], [95960266, 335, ], [95951319, 335, ], [95947647, 335, ], [95952430, 335, ], [96565399, 300471303, ], [97766595, 335, ], [97759715, 335, ], [97763363, 335, ], [97761375, 335, ], [97761335, 300470054, ], [97763257, 335, ], [99183176, 335, ], [99573337, 335, ], [99569516, 335, ], [99571371, 300469009, ], [99575343, 335, ], [99576574, 335, ], [99571172, 335, ], [99571360, 335, ], [99567647, 300468849, ], [99577323, 335, ], [99572973, 335, ], [99571361, 335, ], [99568609, 335, ], [100802153, 300472347, ], [1160100928, 335, ], [1160100028, 335, ], [1160100028, 335, ], [1160100028, 335, ], [1160100028, 335, ], [1160100028, 335, ], [1160100028, 335, ], [1160100028, 335, ], [1160100028, 335, ], [1160100028, 335, ], ];</script><script>function clearAll() { clearTimer();clearChart(memoryChart);clearChart(allocationsChart);clearChart(runtimeChart);}function showOverview() { clearAll(); showFullChart(memoryChart, memoryValues);showFullChart(allocationsChart, allocationsValues);showFullChart(runtimeChart, runtimeValues);}document.getElementById("animation").addEventListener("submit", async (e) => { showAnimation(); return false; });document.getElementById("overview").addEventListener("submit", async (e) => { showOverview(); return false; });showOverview(); </script></body></html>