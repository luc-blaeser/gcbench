<!DOCTYPE html><html><head><title>GC Performance imperative-rb-tree (generational GC)</title><link rel="stylesheet" href="style.css"/></head><body><script src="https://cdn.jsdelivr.net/npm/chart.js"></script><script src="display.js"></script><h1>imperative-rb-tree (generational GC)</h1><div id="menu"><form id="animation" action="#"><button type="submit">Animate</button></form><form id="overview" action="#"><button type="submit">Overview</button></form></div><script>function updateChart() {if (position < 91){addData(memoryChart, position, memoryValues[position]);}if (position < 91){addData(allocationsChart, position, allocationsValues[position]);}if (position < 91){addData(runtimeChart, position, runtimeValues[position]);}position++; }</script><div style="float: left; width: 1500px;"><h1>Memory</h1><canvas id="memoryChart"></canvas></div><script>const memoryData = {labels: [], datasets: [{ label: 'Memory', yAxisID: 'yAxis', backgroundColor: 'rgba(255, 99, 132, 0.1)', borderColor: 'rgb(255, 99, 132)', data: [], }, { label: 'Heap', yAxisID: 'yAxis', backgroundColor: 'rgba(54, 162, 235, 0.1)', borderColor: 'rgb(54, 162, 235)', fill: true, data: [], }, { label: 'Live', yAxisID: 'yAxis', backgroundColor: 'rgba(255, 159, 64, 0.1)', borderColor: 'rgb(255, 159, 64)', data: [], }, ] }; const memoryConfig = {type: 'line', data: memoryData, options: { scales: { yAxis: { suggestedMin: 0, suggestedMax: 41484288 }  }  } }; const memoryChart = new Chart(document.getElementById('memoryChart'), memoryConfig);const memoryValues = [[3932160, 1728108, 0, ], [5636096, 3449024, 0, ], [7340032, 5170004, 0, ], [9043968, 6891064, 0, ], [11075584, 3809984, 3801568, ], [11075584, 5531084, 3801568, ], [11075584, 7252120, 3801568, ], [11141120, 8973284, 3801568, ], [12845056, 10694272, 3801568, ], [14876672, 7610180, 7601764, ], [14876672, 9331232, 7601764, ], [14876672, 11052428, 7601764, ], [14942208, 12773432, 7601764, ], [16646144, 14494596, 7601764, ], [18677760, 11410376, 11401960, ], [18677760, 13131620, 11401960, ], [18677760, 14852736, 11401960, ], [18743296, 16573740, 11401960, ], [20447232, 18294904, 11401960, ], [22478848, 15210572, 15202156, ], [22478848, 16931720, 15202156, ], [22478848, 18652788, 15202156, ], [22544384, 20373984, 15202156, ], [24248320, 22095116, 15202156, ], [26279936, 19010768, 19002352, ], [26279936, 20731772, 19002352, ], [26279936, 22452888, 19002352, ], [26345472, 24174084, 19002352, ], [28049408, 25895152, 19002352, ], [30081024, 22810964, 22802548, ], [30081024, 22812216, 22802548, ], [30081024, 22813376, 22802548, ], [30081024, 22814536, 22802548, ], [30081024, 22815696, 22802548, ], [30081024, 22816856, 22802548, ], [30081024, 22818016, 22802548, ], [30081024, 22819176, 22802548, ], [30081024, 22820336, 22802548, ], [30081024, 22821496, 22802548, ], [30081024, 22822656, 22802548, ], [30081024, 22823672, 22802548, ], [30081024, 24542252, 22802548, ], [30081024, 26263176, 22802548, ], [30146560, 27984164, 22802548, ], [31916032, 29705232, 22802548, ], [33882112, 26611260, 26602844, ], [33882112, 28332360, 26602844, ], [33882112, 30053396, 26602844, ], [33947648, 31774560, 26602844, ], [35651584, 33495548, 26602844, ], [37683200, 30411456, 30403040, ], [37683200, 32132508, 30403040, ], [37683200, 33853704, 30403040, ], [37748736, 35574708, 30403040, ], [39452672, 37295872, 30403040, ], [41484288, 34211652, 34203236, ], [41484288, 13130952, 34203236, ], [41484288, 14852068, 34203236, ], [41484288, 16573072, 34203236, ], [41484288, 18294236, 34203236, ], [41484288, 15210372, 34203236, ], [41484288, 16931520, 34203236, ], [41484288, 18652588, 34203236, ], [41484288, 20373784, 34203236, ], [41484288, 22094916, 34203236, ], [41484288, 19010568, 34203236, ], [41484288, 20731572, 34203236, ], [41484288, 22452688, 34203236, ], [41484288, 24173884, 34203236, ], [41484288, 25894952, 34203236, ], [41484288, 22810764, 34203236, ], [41484288, 24531832, 34203236, ], [41484288, 26253140, 34203236, ], [41484288, 27974256, 34203236, ], [41484288, 29695388, 34203236, ], [41484288, 26610960, 34203236, ], [41484288, 28340308, 34203236, ], [41484288, 30061504, 34203236, ], [41484288, 31782636, 34203236, ], [41484288, 33503672, 34203236, ], [41484288, 30419824, 34203236, ], [41484288, 30421076, 34203236, ], [41484288, 30422304, 34203236, ], [41484288, 30423532, 34203236, ], [41484288, 30424760, 34203236, ], [41484288, 30425988, 34203236, ], [41484288, 30427216, 34203236, ], [41484288, 30428444, 34203236, ], [41484288, 30429672, 34203236, ], [41484288, 30430900, 34203236, ], [41484288, 30432128, 34203236, ], ];</script><div style="float: left; width: 1500px;"><h1>Allocations</h1><canvas id="allocationsChart"></canvas></div><script>const allocationsData = {labels: [], datasets: [{ label: 'Allocated', yAxisID: 'yAxis', backgroundColor: 'rgba(255, 206, 86, 0.1)', borderColor: 'rgb(255, 206, 86)', data: [], }, { label: 'Reclaimed', yAxisID: 'yAxis', backgroundColor: 'rgba(153, 102, 255, 0.1)', borderColor: 'rgb(153, 102, 255)', fill: true, data: [], }, ] }; const allocationsConfig = {type: 'line', data: allocationsData, options: { scales: { yAxis: { suggestedMin: 0, suggestedMax: 120637812 }  }  } }; const allocationsChart = new Chart(document.getElementById('allocationsChart'), allocationsConfig);const allocationsValues = [[1728108, 0, ], [3449024, 0, ], [5170004, 0, ], [6891064, 0, ], [8620276, 4810292, ], [10341376, 4810292, ], [12062412, 4810292, ], [13783576, 4810292, ], [15504564, 4810292, ], [17233928, 9623748, ], [18954980, 9623748, ], [20676176, 9623748, ], [22397180, 9623748, ], [24118344, 9623748, ], [25847612, 14437236, ], [27568856, 14437236, ], [29289972, 14437236, ], [31010976, 14437236, ], [32732140, 14437236, ], [34461472, 19250900, ], [36182620, 19250900, ], [37903688, 19250900, ], [39624884, 19250900, ], [41346016, 19250900, ], [43075348, 24064580, ], [44796352, 24064580, ], [46517468, 24064580, ], [48238664, 24064580, ], [49959732, 24064580, ], [51689064, 28878100, ], [51690316, 28878100, ], [51691476, 28878100, ], [51692636, 28878100, ], [51693796, 28878100, ], [51694956, 28878100, ], [51696116, 28878100, ], [51697276, 28878100, ], [51698436, 28878100, ], [51699596, 28878100, ], [51700756, 28878100, ], [51701772, 28878100, ], [53420352, 28878100, ], [55141276, 28878100, ], [56862264, 28878100, ], [58583332, 28878100, ], [60312552, 33701292, ], [62033652, 33701292, ], [63754688, 33701292, ], [65475852, 33701292, ], [67196840, 33701292, ], [68926204, 38514748, ], [70647256, 38514748, ], [72368452, 38514748, ], [74089456, 38514748, ], [75810620, 38514748, ], [77539888, 43328236, ], [79269332, 66138380, ], [80990448, 66138380, ], [82711452, 66138380, ], [84432616, 66138380, ], [86161948, 70951576, ], [87883096, 70951576, ], [89604164, 70951576, ], [91325360, 70951576, ], [93046492, 70951576, ], [94775824, 75765256, ], [96496828, 75765256, ], [98217944, 75765256, ], [99939140, 75765256, ], [101660208, 75765256, ], [103389540, 80578776, ], [105110608, 80578776, ], [106831916, 80578776, ], [108553032, 80578776, ], [110274164, 80578776, ], [112003368, 85392408, ], [113732716, 85392408, ], [115453912, 85392408, ], [117175044, 85392408, ], [118896080, 85392408, ], [120625508, 90205684, ], [120626760, 90205684, ], [120627988, 90205684, ], [120629216, 90205684, ], [120630444, 90205684, ], [120631672, 90205684, ], [120632900, 90205684, ], [120634128, 90205684, ], [120635356, 90205684, ], [120636584, 90205684, ], [120637812, 90205684, ], ];</script><div style="float: left; width: 1500px;"><h1>Runtime</h1><canvas id="runtimeChart"></canvas></div><script>const runtimeData = {labels: [], datasets: [{ label: 'Mutator', yAxisID: 'yAxis', backgroundColor: 'rgba(75, 192, 192, 0.1)', borderColor: 'rgb(75, 192, 192)', data: [], }, { label: 'Collector', yAxisID: 'yAxis', backgroundColor: 'rgba(255, 99, 132, 0.1)', borderColor: 'rgb(255, 99, 132)', data: [], }, ] }; const runtimeConfig = {type: 'line', data: runtimeData, options: { scales: { yAxis: { suggestedMin: 0, suggestedMax: 1141219668 }  }  } }; const runtimeChart = new Chart(document.getElementById('runtimeChart'), runtimeConfig);const runtimeValues = [[72003384, 339, ], [79298471, 339, ], [81851507, 339, ], [83990525, 339, ], [84643968, 304307513, ], [86305831, 339, ], [87108317, 339, ], [88113272, 339, ], [88109826, 339, ], [88421218, 304268273, ], [89924332, 339, ], [89924269, 339, ], [89919172, 339, ], [91540302, 339, ], [91731769, 304269511, ], [91739324, 339, ], [91732242, 339, ], [91729172, 339, ], [91734380, 339, ], [92347246, 304268795, ], [93546305, 339, ], [93540868, 339, ], [93544123, 339, ], [93543344, 339, ], [93543354, 304267819, ], [93543270, 339, ], [94964025, 339, ], [95354148, 339, ], [95351744, 339, ], [95353454, 304267373, ], [840813185, 339, ], [840812474, 339, ], [840812474, 339, ], [840812474, 339, ], [840812474, 339, ], [840812474, 339, ], [840812474, 339, ], [840812474, 339, ], [840812474, 339, ], [840812474, 339, ], [3683, 339, ], [72001970, 339, ], [79297752, 339, ], [81850575, 339, ], [83990805, 339, ], [84643999, 304279603, ], [86305881, 339, ], [87108192, 339, ], [88113172, 339, ], [88109826, 339, ], [88421318, 304268067, ], [89924307, 339, ], [89924094, 339, ], [89919222, 339, ], [91540227, 339, ], [91731869, 304269333, ], [91739174, 339, ], [91732242, 339, ], [91729135, 339, ], [91733318, 339, ], [92346247, 304271282, ], [93546205, 339, ], [93540943, 339, ], [93544186, 339, ], [93542457, 339, ], [93542330, 304269106, ], [93543145, 339, ], [94964025, 339, ], [95354086, 339, ], [95350757, 339, ], [95352380, 304266630, ], [95354975, 339, ], [95356893, 339, ], [95352134, 339, ], [95352367, 339, ], [95349160, 304268328, ], [95356707, 339, ], [95353674, 339, ], [95352355, 339, ], [95349992, 339, ], [96582689, 304269767, ], [1141219668, 339, ], [1141218982, 339, ], [1141218957, 339, ], [1141218957, 339, ], [1141218957, 339, ], [1141218957, 339, ], [1141218957, 339, ], [1141218957, 339, ], [1141218957, 339, ], [1141218957, 339, ], ];</script><script>function clearAll() { clearTimer();clearChart(memoryChart);clearChart(allocationsChart);clearChart(runtimeChart);}function showOverview() { clearAll(); showFullChart(memoryChart, memoryValues);showFullChart(allocationsChart, allocationsValues);showFullChart(runtimeChart, runtimeValues);}document.getElementById("animation").addEventListener("submit", async (e) => { showAnimation(); return false; });document.getElementById("overview").addEventListener("submit", async (e) => { showOverview(); return false; });showOverview(); </script></body></html>